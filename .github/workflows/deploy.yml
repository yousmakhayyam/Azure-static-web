name: Deploy to Azure Static Web Apps

on:
  push:
    branches: [ "main" ] # Agar aapki main branch ka naam "master" hai toh ise "master" karein
  pull_request:
    branches: [ "main" ] # Agar aapki main branch ka naam "master" hai toh ise "master" karein

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    name: Build and Deploy Job
    steps:
      - uses: actions/checkout@v3
        name: Checkout repository

      - name: Build and Configure
        # Agar aapki website ko build karne ki zaroorat nahi hai (simple HTML/CSS/JS),
        # toh aap is poore "- name: Build and Configure" block ko hata sakte hain.
        # Agar build ki zaroorat hai (jaise React, Vue), toh yahan par build commands daalein.
        # Misal ke taur par Node.js ke liye:
        # run: |
        #   npm install
        #   npm run build

      - name: Deploy to Azure Static Web Apps
        id: deploy-static-web-app
        uses: Azure/static-web-apps-deploy@v1
        with:
          azure_static_web_apps_api_token: ${{ secrets.AZURE_STATIC_WEB_APPS_API_TOKEN }}
          repo_token: ${{ secrets.GITHUB_TOKEN }} # GitHub API calls ke liye istemaal hota hai
          app_location: "/" # Aapke static content ka root directory
          # api_location: "api" # Agar aapke paas API hai toh us folder ka naam
          # output_location: "build" # Agar aap build karte hain toh output folder ka naam